---
authors:
  - lanvalird
---

# Типы опций

Чтобы задокументировать тип в формате NCS, добавьте пропуск и начните
строку с '@', после чего укажите его.

Не забудьте указать подсказки, если опция поддерживает конкретные
свойства в формате: `@TypeOption ( identificator, identificator2 )`.
Примеры найдёте ниже.

## Идентификаторы

Идентификаторы опций – "волшебные" свойства, позволяющие упомянуть в
документацию специфику данного элемента.

Список идентификаторов:

- `any` – любое значения, закреплённое за типом данных, например,
  если `@Number`, то число;
- `positive` – любое позитивное число;
- `negative` – любое негативное число;
- `path` – путь до файла или папки;
  - `relative_path` – относительный путь;
  - `absolute_path` – абсолютный путь;
- `version` – следует учитывать контекст, ведь это
  может быть версия плагина, или конфигурации, или сервера;
  - `api_version` – версия API;
- _другое_ – учитывайте контекст.

## Boolean

Поддерживает всего два значения: `true` (истина) или `false` (ложь).

**Пример использования:**

```YML
# Логирование чата
# -------------------------------------------------------------------
# Влючает логирование чата, когда кто-то отправляет сообщения.
#
# @Boolean
chat-log: true
```

## Number

Числовой тип данный.

**Примеры использования:**

```YML
# Издержка после смены
# -------------------------------------------------------------------
# Если работник устаёт, то сколько в часах ему следует отдохнуть?
#
# @Number ( any, -1 )
rework-sleep: 48

# Репутация по стандарту
# -------------------------------------------------------------------
# Репутация игрока по умолчанию, если впервые подключился к серверу.
#
# @Number
default-reputation: 0
```

## Float

Числовой тип данных, имеющий плавающую точку.

```YML
# Максимальный минус для кредита
# -------------------------------------------------------------------
# Минимальное число баланса, меньше которого невозможно получить
# кредитование.
#
# @Float
min-balance-for-credit: -100.0

# Появление в мире по умолчанию
# -------------------------------------------------------------------
# Если игрок не произвёл кровать, то после смерти или при первом
# появлении в мире он телепортируется к следующим координатам.
# -------------------------------------------------------------------
# @@Float
spawn-coordinates:
  x: 0.0
  y: 0.0
  z: 0.0
```

## Char

Тип данных, способный принять только один символ в качестве значения.

**Пример использования:**

```YML
# Знак валюты
# -------------------------------------------------------------------
# Символ игровой валюты, отображаемый возле баланса.
#
# @Char
currency-symbol: '$'
```

## String

Строковой тип данных. Встречается довольно часто.

```YML
# Приветствие
# -------------------------------------------------------------------
# Отправляет приветсвенное сообщение при подключении.
#
# @String ( any, 'none' )
welcome-text: 'Hello, %player_name%!'
```

## Array

Массив – тип данных, который подразумевает, что элемент содержит в
себе несколько других объектов схожего типа. Для объявления
используйте синтаксис `@TypeOption[]` или `@Array[TypeOption]`.

```YML
# Белый список
# -------------------------------------------------------------------
# Белый список игроков, кому разрешено подключаться.
#
# @String[]
welcome-text:
  - lanvalird
  - lovienxi
```

## Object

Объект – тип данных, который подразумевает, что элемент содержит в
себе несколько других опций или свойст. Для объявления используйте
синтаксис `@Object[TypeOption]` или синтаксис, подобный YML-файлам
(для примера листайте дальше):

```YML
# Псевдонимы файлов
# -------------------------------------------------------------------
# Укажите псевдоним в качестве ключа и путь до него в значении.
#
# @Object[String]
psevdo-files:
  - nelovy: nelovy/config
  - test: path/to/file

# Принудительная статистика
# -------------------------------------------------------------------
# Укажите идентификатор статистики в качестве ключа и его данные в
# значении, чтобы принудить сервер использовать эти данные.
#
# @Object[Number]
forced-stats:
  - craft-fullset-iron: 12
  - craft-fullset-gold: 3
  - chat-messages: 1230
```

Это тот синтаксис, о котором было написано выше. В рамках Nelovy его
называют "объектным":

```YML
# Локации
# -------------------------------------------------------------------
# Группа с ИД (имя элемента) локаций и их именами для Roleplay-игры.
# -------------------------------------------------------------------
# @@Object:
#   enable: @Boolean
#   slug: @String
#   name: @String
locations:
  banitea:
    enable: true
    slug: tea
    name: Банитея
  alyans:
    enable: true
    slug: dza
    name: Дальние земли Альянса
  noteria:
    enable: false
    slug: ria
    name: Нотерия
```

Кстати, иногда бывает такое, что не все поля обязательны. Их вы
можете пометить таковыми через `?`:

```YML
# Локации
# -------------------------------------------------------------------
# Группа с ИД (имя элемента) локаций и их именами для Roleplay-игры.
# -------------------------------------------------------------------
# @@Object:
#   enable: @Boolean
#   slug: @String
#   name: @String
#   lore?: @String
locations:
  banitea:
    enable: true
    slug: tea
    name: Банитея
    lore: banitea
  alyans:
    enable: true
    slug: dza
    name: Дальние земли Альянса
    #lore тут нет, его украли! но тип остался валидным
  noteria:
    enable: false
    slug: ria
    name: Нотерия
    lore: minisyze
```

## NoEditable

Помечайте этим типом только те элементы, которые вы **не должны**
редактировать. Довольно часто используется для свойств, подобных тем,
которые плагины используют, как метки.

Например версию конфигурации:

```YML
# @NoEditable
config-version: 1

# @NoEditable
api-version: 3

# @NoEditable
not-edit: 'You should not edit this parameter!'
```

## Phantom

Фантомный тип добавлен в спецификацию, чтобы указать компилятору
Nelovy Docs, что на самом деле элемента не существует. Только не
забудьте указать его ИД, чтобы он правильно отображался при выводе
(примеры ниже), используя

- если группа: `@Phantom['identificator']` и `@PhantomEnd['identificator']` после
  последнего свойства;
- если опция, то `@Phantom[TypeOption]`;

Данный подход избавляет от багов, когда свойства читаются
компилятором неправильно (при правильной настройке такого нет).

Взгляните на этот _плохой_ пример и подумайте, что случится:

```YML
# НЕ ДЕЛАЙТЕ ТАК!

# Семена
# -------------------------------------------------------------------
# Группы для семян генератора, чтобы добавить случайности в мир.
# -------------------------------------------------------------------
# @@Number
seed-desert: 14357617
seed-igloo: 14357618
seed-jungle: 14357619
seed-swamp: 14357620
seed-monument: 10387313
```

Если вас ничего не смущает, значит Вы ещё не видите главную проблему
– типы. Генератор онлайн-документации будет воспринимать свойство
`seed-desert`, как группу, а другие проигнорирует. Мы получим что-то подобное:

```txt
==========================================
| ID            | TYPE     | Description |
|---------------+----------+-------------|
| seed-desert   | Number[] | Семена      |
| seed-igloo    | Unknow   |             |
| seed-jungle   | Unknow   |             |
| seed-swamp    | Unknow   |             |
| seed-monument | Unknow   |             |
==========================================
```

Вопрос: почему это происходит? Всё из-за того, что генератор Nelovy
Docs считает, что это описание относится к свойству `seed-desert`.
Чтобы исправить это можно отделить документацию от элемента,
пометив комментарий "фантомным" типом:

```YML
# ТАК УЖЕ МОЖНО

# Семена
# -------------------------------------------------------------------
# Группа для семян генератора, чтобы добавить случайности в мир.
# -------------------------------------------------------------------
# @Phantom['seed-group']
# @@Number
seed-desert: 14357617
seed-igloo: 14357618
seed-jungle: 14357619
seed-swamp: 14357620
seed-monument: 10387313
# @PhantomEnd
```

Результат будет следующим:

```txt
==============================================
| ID                | TYPE     | Description |
|-------------------+----------+-------------|
| seed-group      ◌ | Number[] | Семена      |
| » seed-desert     | Number   |             |
| » seed-igloo      | Number   |             |
| » seed-jungle     | Number   |             |
| » seed-swamp      | Number   |             |
| » seed-monument   | Number   |             |
==============================================
```

Обратите внимание, что если не указать `@PhantomEnd`, то сборщик
попытается вложить все следующие свойства в одну групп:

```YML
group:

  # Семена
  # -------------------------------------------------------------------
  # Группа для семян генератора, чтобы добавить случайности в мир.
  # -------------------------------------------------------------------
  # @Phantom['seed-group']
  # @@Number
  seed-desert: 14357617
  seed-igloo: 14357618
  seed-jungle: 14357619
  seed-swamp: 14357620
  seed-monument: 10387313

  # Мы забыли указать конец фантома и теперь эти свойства в этой же
  # группе
  player-default-mode: 'adventure'

  max-height-tower: 40
  max-height-house: 23
  max-height-default: 50

# @String
element: ''
```

Вывод (не делайте так, пожалуйста):

```txt
========================================================
| ID                          | TYPE     | Description |
|-----------------------------+----------+-------------|
| group                       | Unknow   |             |
| » » seed-group            ◌ | Number[] | Семена      |
| » » » seed-desert           | Number   |             |
| » » » seed-igloo            | Number   |             |
| » » » seed-jungle           | Number   |             |
| » » » seed-swamp            | Number   |             |
| » » » seed-monument         | Number   |             |
| » » » player-default-mode ! | =String  |             |
| » » » max-height-tower      | Number   |             |
| » » » max-height-house      | Number   |             |
| » » » max-height-default    | Number   |             |
| element                     | String   |             |
======================================================
```

Ещё раз просим Вас указывать для групп фантомный тип и её конец, если
элементы нельзя никак сгруппировать, кроме как этим методов, либо вообще не использовать.

Кстати, этот пример для одиночных элементов (но зачем так вообще
делать):

```YML
# @Phantom
phantom: true

# @Phantom[Boolean]
re-edit: false

# @Phantom[Object[String]]
phantom-object:
  la-la-la: ''

# @Phantom[Array[String]]
phantom-array: []
```

Вывод:

```txt
===============================
| ID               | TYPE     |
|------------------+----------|
| phantom        ◌ | Unknow   |
| re-edit        ◌ | Boolean  |
| phantom-object ◌ | Object   |
| » la-la-la       | String   |
| phantom-array  ◌ | String[] |
===============================
```

---

[Главная](./index.md)
